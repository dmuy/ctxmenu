/* -- DO NOT REMOVE --
 * Material inspired CTXMenu 1.0 plugin
 * 
 * Author: Dionlee Uy
 * Email: dionleeuy@gmail.com
 *
 * @requires jQuery
 * -- DO NOT REMOVE --
 */
 if("undefined"==typeof jQuery)throw new Error("CTXMenu: This plugin requires jQuery");+function(e){var t=function(t,n,o){this.elem=e(t),this.options=n,this.menus=o,this.ctxwrapper=e(document.createElement(n.menuElem))},n={menu:"",action:null,divider:!1,disable:!1};t.prototype={constructor:t,create:function(t){function o(t,a,i,r){var s=i?e(document.createElement(c.options.menuElem)):a;i&&s.addClass("ctxmenu-sub"),e.each(t,function(t,a){var i=e.extend({},n,a);if(i.divider)e(document.createElement(c.options.itemElem)).addClass("ctxmenu-divider").appendTo(s);else{var u=e(document.createElement(c.options.itemElem)),m="function"==typeof i.disable?i.disable():i.disable;u.addClass("ctxmenu-item"),i.action&&!m&&u.on("click touchstart",function(e){i.action(c.elem,e),c.hide()}),m&&u.addClass("ctxmenu--disabled"),i.icon&&u.append(i.icon),e(document.createElement("span")).addClass("ctxmenu-text").text(i.menu).appendTo(u),u.appendTo(s),i.subs&&i.subs.length>0&&(u.addClass("ctxmenu--hassubs"),o(i.subs,u,!0,r))}}),i&&s.appendTo(a),r&&setTimeout(r,0)}var c=this,a=c.menus;c.ctxwrapper.addClass("ctxmenu"),c.options.compact&&c.ctxwrapper.addClass("ctxmenu-compact"),"dark"===c.options.theme&&c.ctxwrapper.addClass("ctxmenu-dark"),c.ctxwrapper.empty().appendTo("body").bind("contextmenu",function(){return!1}),o(a,c.ctxwrapper,!1,t)},show:function(t){var n=this,o=n.options.anchor,c=n.options.anchorPos,a="touchstart"===t.type,i=o?n.elem.offset().top+n.elem.outerHeight():(a?t.originalEvent.touches[0].pageY:t.clientY)+10;n.create(function(){n.ctxwrapper.css({top:i,"transform-origin":"top "+(o?c:"left")}).css(o?c:"left",o?"left"===c?n.elem.offset().left:e(window).width()-(n.elem.offset().left+n.elem.outerWidth()):(a?t.originalEvent.touches[0].pageX:t.clientX)+10).addClass("ctxmenu--open")})},hide:function(){var e=this;e.ctxwrapper.removeClass("ctxmenu--open"),setTimeout(function(){e.ctxwrapper.remove()},0)},destroy:function(){this.elem.removeData("ctxmenu_data")}},e.fn.ctxmenu=function(){var n=arguments;return e(this).each(function(){var o=this,c=e(o),a=e(o).data("ctxmenu_data"),i=n[0],r=n[1],s=e.extend({},e.fn.ctxmenu.defaults,!Array.isArray(r)&&r);if(!a){switch(c.data("ctxmenu_data",a=new t(this,s,Array.isArray(r)?r:i)),s.trigger){case"right-click":c.bind("contextmenu",function(e){return a.show(e),!1});break;case"click":var u=null;c.on("touchmove",function(){clearTimeout(u)}).on("click touchstart",function(t){u=setTimeout(function(){a.show(t),e(".ctxmenu").not(a.ctxwrapper).removeClass("ctxmenu--open").remove()},"touchstart"===t.type?150:0)})}e(document).bind("mousedown.contextmenu touchstart.contextmenu",function(t){e(t.target).not(c).closest(".ctxmenu").length||a.hide()}),e(window).bind("blur",function(){a.hide()})}"string"==typeof n[0]&&a[n[0]]()})},e.fn.ctxmenu.defaults={theme:"light",compact:!1,trigger:"right-click",anchor:!1,anchorPos:"right",menuElem:"nav",itemElem:"nav-item"}}(jQuery);