/* -- DO NOT REMOVE --
 * Material inspired CTXMenu 1.0 plugin
 * 
 * Author: Dionlee Uy
 * Email: dionleeuy@gmail.com
 *
 * @requires jQuery
 * -- DO NOT REMOVE --
 */
 if("undefined"==typeof jQuery)throw new Error("CTXMenu: This plugin requires jQuery");+function(t){var e=function(e,n,a){this.elem=t(e),this.options=n,this.menus=a,this.ctxwrapper=t("<nav class='ctxmenu'></nav>")},n={menu:"",action:null,divider:!1,disable:!1};e.prototype={constructor:e,create:function(e){function a(e,c,i,r){var s=i?t('<nav class="ctxmenu--sub"></nav>'):c;t.each(e,function(e,c){var i=t.extend({},n,c);if(i.divider)s.append('<nav-item class="ctxmenu--divider"></nav-item>');else{var u=t("<nav-item class='ctxmenu--item'></nav-item>"),d="function"==typeof i.disable?i.disable():i.disable;i.action&&!d&&u.on("click touchstart",function(t){i.action(o.elem,t),o.hide()}),d&&u.addClass("ctxmenu--disabled"),i.icon&&u.append(i.icon),t("<span>").addClass("ctxmenu--text").text(i.menu).appendTo(u),u.appendTo(s),i.subs&&i.subs.length>0&&(u.addClass("ctxmenu--hassubs"),a(i.subs,u,!0,r))}}),i&&s.appendTo(c),r&&setTimeout(r,0)}var o=this,c=o.menus;o.options.compact&&o.ctxwrapper.addClass("ctxmenu--compact"),"dark"===o.options.theme&&o.ctxwrapper.addClass("ctxmenu--dark"),o.ctxwrapper.empty().appendTo("body").bind("contextmenu",function(){return!1}),a(c,o.ctxwrapper,!1,e)},show:function(e){var n=this,a=n.options.anchor,o=n.options.anchorPos,c="touchstart"===e.type,i=a?n.elem.offset().top+n.elem.outerHeight():(c?e.originalEvent.touches[0].pageY:e.clientY)+10;n.create(function(){n.ctxwrapper.css({top:i,"transform-origin":"top "+(a?o:"left")}).css(a?o:"left",a?"left"===o?n.elem.offset().left:t(window).width()-(n.elem.offset().left+n.elem.outerWidth()):(c?e.originalEvent.touches[0].pageX:e.clientX)+10).addClass("ctxmenu--open")})},hide:function(){var t=this;t.ctxwrapper.removeClass("ctxmenu--open"),setTimeout(function(){t.ctxwrapper.remove()},0)},destroy:function(){this.elem.removeData("ctxmenu_data")}},t.fn.ctxmenu=function(){var n=arguments;return t(this).each(function(){var a=this,o=t(a),c=t(a).data("ctxmenu_data"),i=n[0],r=n[1],s=t.extend({},t.fn.ctxmenu.defaults,!Array.isArray(r)&&r);if(!c){switch(o.data("ctxmenu_data",c=new e(this,s,Array.isArray(r)?r:i)),s.trigger){case"right-click":o.bind("contextmenu",function(t){return c.show(t),!1});break;case"click":o.on("click touchstart",function(e){return c.show(e),t(".ctxmenu").not(c.ctxwrapper).removeClass("ctxmenu--open").remove(),e.preventDefault(),!1})}t(document).bind("mousedown.contextmenu touchstart.contextmenu",function(e){t(e.target).not(o).closest(".ctxmenu").length||c.hide()}),t(window).bind("blur",function(){c.hide()})}"string"==typeof n[0]&&c[n[0]]()})},t.fn.ctxmenu.defaults={theme:"light",compact:!1,trigger:"right-click",anchor:!1,anchorPos:"right"}}(jQuery);